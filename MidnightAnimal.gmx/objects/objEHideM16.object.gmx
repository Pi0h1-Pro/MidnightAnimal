<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprEHiding</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ammo=24
reload=15
alert=0
checkreload=random(30)
lookreload=random(10)
path=path_add()
path_set_closed(path,false)
check=1
startx=x
starty=y
startdir=direction
image_speed=0
returning=0
armed=1
turn=0
alertwait=-1
left=1
killed=0
chasereload=-1
energie=1
seen=1
angle=direction
if global.maskindex = 2 instance_destroy()
/*image_speed=0
shake=0
image_index=5
energie=0
ammo=20
path=0
dir = 0


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if sprite_index = sprEHidingReload {
    if image_index &lt; sprite_get_number(sprite_index) - 1 image_index += 0.2
    else {
        ammo = 24
        sprite_index = sprEHiding
    }
    exit
}

if alertwait &gt; -1 {
        if alertwait = 0 {
            alert = 1
        }
        alertwait -= 1
    }
    //if scrIsSearching(sprite_index) {image_speed=0.2 speed=0 exit}
if lookreload &gt; 0 lookreload -= 1
else {
    //if instance_exists(objPlayer) seen = scrLookExt(objPlayer.x, objPlayer.y, 12, 640)
    if !instance_exists(objPlayer) seen = 1 else seen = scrLook(objPlayer.x, objPlayer.y, 4)
    if seen = 0 {
        alert = 1
    }
    if seen = 2 {
        alert = 2
    }
    if seen == 1 and alert &gt; 0 {
        alert = 0
    }
    lookreload = 8
}
if instance_exists(objPlayerDead) or ammo = 0 {
    alert = 0
}

if alert &gt; 0 {
    if image_index &lt; 4 image_index += 0.25
    else {
        dist = point_distance(x, y, objPlayer.x, objPlayer.y)
        if dist &gt; 640 alert = 0
        else {
            angle = scrRotate(angle, point_direction(x, y, objPlayer.x, objPlayer.y), 10)
            if ammo &gt; 0 {
                if reload &gt; 0 reload -= 1
                else {
                    sound_play(sndEM16)
                    ammo -= 1
                    shake = 3
                    reload = 4
                    global.shake = 6
                        //mask_index=sprWeaponMask
                    if place_meeting(x + lengthdir_x(8, angle), y + lengthdir_y(8, angle), objSolid) {
                        my_id = instance_create(x, y, objSmokeHit)
                        global.dir = angle
                        with my_id move_contact_all(global.dir, 26)
                    } else {
                        my_id = instance_create(x + lengthdir_x(26, angle), y + lengthdir_y(26, angle), objEBullet)
                        if instance_exists(my_id) {
                            my_id.direction = angle - 6 + random(12)
                            my_id.speed = 12 + random(4)
                            my_id.image_angle = my_id.direction
                        }
                    }
                    my_id = instance_create(x + lengthdir_x(5, angle - 5 * image_yscale), y + lengthdir_y(5, angle - 5 * image_yscale), objShell)
                    my_id.sprite_index = sprUziShell
                    my_id.image_angle = angle
                    my_id.direction = angle - 90 * image_yscale - 20 + random(30)
                    my_id.speed = 1 + random(3)
                    light = 20
                    mask_index = sprMask
                }
            }
        }
    }
} else {
    if image_index &gt; 0 image_index -= 0.2
    else if ammo = 0 {
        sprite_index = sprEHidingReload image_index = 0
    }
}

/*if !instance_exists(objPlayer) alert = 1
else alert = scrLook(objPlayer.x, objPlayer.y, 4)

if alert = 0 or alert = 2 {
    direction = scrRotate(direction, point_direction(x, y, objPlayer.x, objPlayer.y), 10)
    if image_index &gt; 0 {
        direction = dir 
        image_index -= 0.25
    }
} else {
    reload = 20
    if image_index &lt; 5 image_index += 0.25
    direction = dir
}


if image_index = 0 {
    if reload &gt; 0 {
        reload -= 1 exit
    }
    shake = 1
    reload = 2
    my_id = instance_create(x + lengthdir_x(24, direction), y + lengthdir_y(24, direction), objEBullet)
    my_id.direction = direction - 4 + random(8)
    my_id.speed = 16
    my_id.image_angle = my_id.direction
    sound_play(sndEM16)
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objFlare">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//sound_play(sndCatchFire)
my_id=instance_create(x,y,objBurningGuy)
my_id.direction=other.direction
my_id.speed=3
instance_destroy()

//my_id=instance_create(x,y-12,objScore)
//my_id.text="+"+"500pts"
global.myscore+=500
global.killscore+=500
global.boldscore+=1200
global.combo+=1
global.combotime=600
global.killx[global.kills]=x
global.killy[global.kills]=y
global.kills+=1
if global.bonustime&lt;12+global.factor*4 global.bonustime=12+global.factor*4
if global.factor=2 ds_list_add(global.bonuslist,"Exposure")
if global.factor=3 ds_list_add(global.bonuslist,"Double Exposure")
if global.factor=4 ds_list_add(global.bonuslist,"Triple Exposure")
if global.factor&gt;4 ds_list_add(global.bonuslist,"Severe Exposure")
instance_destroy()

/*
my_id=instance_create(x,y-12,objScore)
my_id.text="+"+string(((100*random(20))+80*factor)*global.factor)+"pts"
global.myscore+=((100*random(20))+80*factor)*global.factor
global.killscore+=(100*random(20))
global.boldscore+=80*factor
global.combo+=1
global.combotime=240
global.killx[global.kills]=x
global.killy[global.kills]=y
global.kills+=1
global.gunkill+=1

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objNail">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if image_index &lt; 3.75 exit
if global.maskindex = 15 energie = 0
if object_get_parent(object_index) = objEnemyIdle energie = 0
global.my_id = id
if other.passed = 1 {
    if other.swat = 0 {
        ds_list_add(global.bonuslist, "Sneaky Shot")
        if global.bonustime &lt; 12 global.bonustime = 12
    }
    if object_get_parent(object_index) = objEnemyIdle {
        instance_destroy()
        my_id = instance_create(x, y, objEnemy)
        my_id.alert = 2
        exit
    }
    global.my_x = other.dirx
    global.my_y = other.diry
    with objEnemy {
        if scrCollisionLineExt(x, y, global.my_id.x, global.my_id.y, 4, objSolid, objWall, objSolidCaster, objDoorV, objWallSoftH) = 0 {
            alert = 2
            if sprite_index = sprEWalkUnarmed alert = 0
            if sprite_index = sprEWalkShotgun or sprite_index = sprEWalkSilencer or sprite_index = sprEWalkDoubleBarrel or sprite_index = sprEWalkSilencer checkreload = 50
            else checkreload = 5
            reload = 10
            chasex = global.my_x
            chasey = global.my_y
        }
    }
}
image_xscale = 1.5
image_yscale = 1.5
bullets = 0
energie -= 1 + other.caliber
with objNail {
    if place_meeting(x, y, global.my_id) {
        my_id = instance_create(x, y, objBloodSmoke)
        my_id.direction = direction - 170 + random(10)
        my_id.speed = 1
        my_id.image_angle = my_id.direction
        my_id.image_xscale = 0.8 + random(0.2)
        my_id.image_yscale = my_id.image_xscale
        if caliber = 0 instance_destroy()
        global.my_id.bullets += 1
    }
}
image_xscale = 1
image_yscale = 1
edir = other.direction
if point_distance(other.x, other.y, other.startx, other.starty) &gt; 150 {
    if other.swat = 0 {
        ds_list_add(global.bonuslist, "Sharp Shooter")
        if global.bonustime &lt; 12 global.bonustime = 12
    }
}
test = 0
scrMeleeBlood(x, y)
if bullets &gt; 1 or round(random(1)) or energie &lt; 0 {
    if sprite_index = sprEWalkUnarmed noweapon = 1
    else noweapon = 0
    scrIdleGetEnemy()
    if other.swat = 0 global.punchonly = 0
    if noweapon = 1 factor = 0.5
    else factor = 1
    if other.swat = 0 { //my_id=instance_create(x,y-12,objScore)
        //my_id.text="+"+string(((100+bullets*20)+80*factor)*global.factor)+"pts"
        global.myscore += ((100 + bullets * 20) + 80 * factor) * global.factor
        global.killscore += (100 + bullets * 20)
        global.boldscore += 80 * factor
        global.combo += 1
        global.combotime = 240
        global.killx[global.kills] = x
        global.killy[global.kills] = y
        global.kills += 1
        global.gunkill += 1
        if global.bonustime &lt; 12 + global.factor * 4 global.bonustime = 12 + global.factor * 4
        if global.factor = 2 ds_list_add(global.bonuslist, "Exposure")
        if global.factor = 3 ds_list_add(global.bonuslist, "Double Exposure")
        if global.factor = 4 ds_list_add(global.bonuslist, "Triple Exposure")
        if global.factor &gt; 4 ds_list_add(global.bonuslist, "Severe Exposure")
    }

    my_id = instance_create(x, y, objDeadBody)
    if bullets &gt; 1 my_id.sprite_index = choose(sprEBackShotgun, sprEBackShotgun, sprEFrontShotgun)
    else my_id.sprite_index = choose(sprEBackMachinegun, sprEBackMachinegun, sprEFrontMachinegun)
    my_id.image_index = 1 + floor(random(4))
    my_id.direction = edir
    my_id.speed = 1.5 + random(1) + bullets * 0.15
    my_id.image_angle = my_id.direction


    if noweapon = 0 {
        my_id = instance_create(x, y, objWeaponThrow)
        my_id.image_index = scrCurrentWeaponExt(sprite_index)
        my_id.direction = other.direction - 70 + random(40)
        my_id.speed = 2 + random(2)
        my_id.ammo = ammo
    }
    instance_destroy()
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objFlame">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//sound_play(sndCatchFire)
my_id=instance_create(x,y,objBurningGuy)
my_id.direction=other.direction
my_id.speed=3
instance_destroy()

//my_id=instance_create(x,y-12,objScore)
//my_id.text="+"+"500pts"
global.myscore+=500
global.killscore+=500
global.boldscore+=1200
global.combo+=1
global.combotime=600
global.killx[global.kills]=x
global.killy[global.kills]=y
global.kills+=1
if global.bonustime&lt;12+global.factor*4 global.bonustime=12+global.factor*4
if global.factor=2 ds_list_add(global.bonuslist,"Exposure")
if global.factor=3 ds_list_add(global.bonuslist,"Double Exposure")
if global.factor=4 ds_list_add(global.bonuslist,"Triple Exposure")
if global.factor&gt;4 ds_list_add(global.bonuslist,"Severe Exposure")
instance_destroy()

/*
my_id=instance_create(x,y-12,objScore)
my_id.text="+"+string(((100*random(20))+80*factor)*global.factor)+"pts"
global.myscore+=((100*random(20))+80*factor)*global.factor
global.killscore+=(100*random(20))
global.boldscore+=80*factor
global.combo+=1
global.combotime=240
global.killx[global.kills]=x
global.killy[global.kills]=y
global.kills+=1
global.gunkill+=1

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objBullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if image_index &lt; 3.75 exit
if global.maskindex = 15 energie = 0
if object_get_parent(object_index) = objEnemyIdle energie = 0
global.my_id = id
if other.passed = 1 {
    if other.swat = 0 {
        ds_list_add(global.bonuslist, "Sneaky Shot")
        if global.bonustime &lt; 12 global.bonustime = 12
    }
    if object_get_parent(object_index) = objEnemyIdle {
        instance_destroy()
        my_id = instance_create(x, y, objEnemy)
        my_id.alert = 2
        exit
    }
    global.my_x = other.dirx
    global.my_y = other.diry
    with objEnemy {
        if scrCollisionLineExt(x, y, global.my_id.x, global.my_id.y, 4, objSolid, objWall, objSolidCaster, objDoorV, objWallSoftH) = 0 {
            alert = 2
            if sprite_index = sprEWalkUnarmed alert = 0
            if sprite_index = sprEWalkShotgun or sprite_index = sprEWalkSilencer or sprite_index = sprEWalkDoubleBarrel or sprite_index = sprEWalkSilencer checkreload = 50
            else checkreload = 5
            reload = 10
            chasex = global.my_x
            chasey = global.my_y
        }
    }
}
image_xscale = 1.5
image_yscale = 1.5
bullets = 0
energie -= 1 + other.caliber
with objBullet {
    if place_meeting(x, y, global.my_id) {
        my_id = instance_create(x, y, objBloodSmoke)
        my_id.direction = direction - 170 + random(10)
        my_id.speed = 1
        my_id.image_angle = my_id.direction
        my_id.image_xscale = 0.8 + random(0.2)
        my_id.image_yscale = my_id.image_xscale
        if caliber = 0 instance_destroy()
        global.my_id.bullets += 1
    }
}
image_xscale = 1
image_yscale = 1
edir = other.direction
if point_distance(other.x, other.y, other.startx, other.starty) &gt; 150 {
    if other.swat = 0 {
        ds_list_add(global.bonuslist, "Sharp Shooter")
        if global.bonustime &lt; 12 global.bonustime = 12
    }
}
test = 0
scrMeleeBlood(x, y)
if bullets &gt; 1 or round(random(1)) or energie &lt; 0 {
    if sprite_index = sprEWalkUnarmed noweapon = 1
    else noweapon = 0
    scrIdleGetEnemy()
    if other.swat = 0 global.punchonly = 0
    if noweapon = 1 factor = 0.5
    else factor = 1
    if other.swat = 0 { //my_id=instance_create(x,y-12,objScore)
        //my_id.text="+"+string(((100+bullets*20)+80*factor)*global.factor)+"pts"
        global.myscore += ((100 + bullets * 20) + 80 * factor) * global.factor
        global.killscore += (100 + bullets * 20)
        global.boldscore += 80 * factor
        global.combo += 1
        global.combotime = 240
        global.killx[global.kills] = x
        global.killy[global.kills] = y
        global.kills += 1
        global.gunkill += 1
        if global.bonustime &lt; 12 + global.factor * 4 global.bonustime = 12 + global.factor * 4
        if global.factor = 2 ds_list_add(global.bonuslist, "Exposure")
        if global.factor = 3 ds_list_add(global.bonuslist, "Double Exposure")
        if global.factor = 4 ds_list_add(global.bonuslist, "Triple Exposure")
        if global.factor &gt; 4 ds_list_add(global.bonuslist, "Severe Exposure")
    }

    my_id = instance_create(x, y, objDeadBody)
    if bullets &gt; 1 my_id.sprite_index = choose(sprEBackShotgun, sprEBackShotgun, sprEFrontShotgun)
    else my_id.sprite_index = choose(sprEBackMachinegun, sprEBackMachinegun, sprEFrontMachinegun)
    my_id.image_index = 1 + floor(random(4))
    my_id.direction = edir
    my_id.speed = 1.5 + random(1) + bullets * 0.15
    my_id.image_angle = my_id.direction


    if noweapon = 0 {
        my_id = instance_create(x, y, objWeaponThrow)
        my_id.image_index = scrCurrentWeaponExt(sprite_index)
        my_id.direction = other.direction - 70 + random(40)
        my_id.speed = 2 + random(2)
        my_id.ammo = ammo
    }
    instance_destroy()
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_sprite_ext(sprite_index,image_index,x+1,y+1,image_xscale,image_yscale,angle,c_black,0.5)
draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,angle,image_blend,image_alpha)
/*if image_index=0 {
draw_sprite_ext(sprEM16CourchingLegs,image_index,x,y,image_xscale,image_yscale,direction,c_black,0.5)
draw_sprite_ext(sprEM16CourchingLegs,image_index,x,y,image_xscale,image_yscale,direction,image_blend,image_alpha)
draw_sprite_ext(sprEWalkM16,image_index,x-shake+random(shake*0.5),y-shake+random(shake*0.5),image_xscale,image_yscale,direction,c_black,0.5)
draw_sprite_ext(sprEWalkM16,image_index,x-shake+random(shake*0.5),y-shake+random(shake*0.5),image_xscale,image_yscale,direction,image_blend,image_alpha)
} else {
draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,direction,c_black,0.5)
draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale,direction,image_blend,image_alpha)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>

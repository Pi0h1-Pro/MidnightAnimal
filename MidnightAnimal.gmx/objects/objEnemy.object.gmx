<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprEWalkAK</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-4</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>scrERandomInit()

if instance_exists(objLSD) or global.maskindex = 1 random_colour()
image_speed = 0
image_index = random(1000)
angle = random(360)

direction = angle
speed = round(random(1))
if room = rmTutorial {
    image_index = 0 speed = 0 direction = point_direction(x, y, objPlayer.x, objPlayer.y)
}
image_speed = speed * 0.1
alarm[0] = 60 + random(60)
energie = round(random(1))

checkreload = floor(random(30))
ammo = 24
alert = 0
reload = 13
light = 0
risen = 0
weaponfind = 0
shake = 0


if sprite_index = sprEDeadThrowingKnife or sprite_index = sprEGangDieThrowingKnife {
    speed = 0
    if image_index &lt; sprite_get_number(sprite_index) - 1 image_index += 0.15
    else {
        my_id = instance_create(x, y, objDeadBody)
        my_id.image_angle = direction
        my_id.image_index = 15 
        instance_destroy()
    }
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>bullets += 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if room = rmTutorial exit
if path_index &gt; 0 or scrIsSearching(sprite_index) {
    alarm[0] = 5 exit
}
if alert = 1 {
    alarm[0] = 5 exit
}
alarm[0] = 60 + random(60)
angle = random(360)
speed = round(random(1))
image_speed = speed * 0.1
direction = angle
if speed = 0 image_index = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>scrMoveSolidOn()

global.my_id = id
with objDoorV {
    if place_meeting(x, y, global.my_id) {
        global.my_id.target = id
        with global.my_id {
            if target.swinger = 1 and abs(target.swingspeed) &gt; 1 {
                if target.object_index = objDoorV or object_get_parent(target.object_index) = objDoorV {
                    if target.x &gt; x dir = 180 - 20 + random(40)
                    else dir = -20 + random(40)
                }
                if target.object_index = objDoorH or object_get_parent(target.object_index) = objDoorH {
                    if target.y &gt; y dir = 90 - 20 + random(40)
                    else dir = 270 - 20 + random(40)
                }
                if object_index = objEnemyFat or object_index = objEnemyFatStatic or object_index = objEnemyFatLSD or object_get_parent(object_index) = objDogPatrol nothing = 1
                else {
                    sound_play(sndDoorHit)
                    sound_play(sndPunch)
                    scrEnemyGetKnockedOut(object_index, dir)
                }
            }
        }
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if x &lt; 0 hspeed = abs(hspeed)
if x &gt; room_width hspeed = -abs(hspeed)
if y &lt; 0 vspeed = abs(vspeed)
if y &gt; room_height vspeed = -abs(vspeed)
if sprite_index = sprEWalkUnarmed nothing = 0
else global.factor += sign(alert)
scrMoveSolidOn()
if sprite_index = sprEWalkUnarmed scrGoGetWeapon()
if !place_free(x + hspeed * 3, y + vspeed * 3) {
    if !place_free(x + hspeed * 3, y) hspeed = -hspeed
    if !place_free(x, y + vspeed * 3) vspeed = -vspeed
}
if path_index &gt; 0 {
    image_speed = 0.2
    if path_position = 1 path_end()
} else image_speed = speed * 0.1
scrMoveSolidOff()
if !instance_exists(objPlayer) {
    alert = 0 speed = 0 exit
}

scrERandomStep()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objFlare">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sound_play(sndCatchFire)
my_id = instance_create(x, y, objBurningGuy)
my_id.direction = other.direction
my_id.speed = 3
instance_destroy()

//my_id = instance_create(x, y - 12, objScore)
//my_id.text = "+" + "500pts"
global.myscore += 500
global.killscore += 500
global.boldscore += 1200
global.combo += 1
global.combotime = 240
global.killx[global.kills] = x
global.killy[global.kills] = y
global.kills += 1
if global.bonustime &lt; 12 + global.factor * 4 global.bonustime = 12 + global.factor * 4
if global.factor = 2 ds_list_add(global.bonuslist, "Exposure")
if global.factor = 3 ds_list_add(global.bonuslist, "Double Exposure")
if global.factor = 4 ds_list_add(global.bonuslist, "Triple Exposure")
if global.factor &gt; 4 ds_list_add(global.bonuslist, "Severe Exposure")
instance_destroy()

/*
my_id=instance_create(x,y-12,objScore)
my_id.text="+"+string(((100*random(20))+80*factor)*global.factor)+"pts"
global.myscore+=((100*random(20))+80*factor)*global.factor
global.killscore+=(100*random(20))
global.boldscore+=80*factor
global.combo+=1
global.combotime=240
global.killx[global.kills]=x
global.killy[global.kills]=y
global.kills+=1
global.gunkill+=1
*/
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objNail">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if global.maskindex=15 
energie = 0
if object_get_parent(object_index) = objEnemyIdle energie = 0
global.my_id = id
if other.passed = 1 {
    if other.swat = 0 {
        ds_list_add(global.bonuslist, "Sneaky Shot")
        if global.bonustime &lt; 12 global.bonustime = 12
    }

    if object_get_parent(object_index) = objEnemyIdle {
        instance_destroy()
        my_id = instance_create(x, y, objEnemy)
        my_id.alert = 2
        exit
    }

    global.my_x = other.dirx
    global.my_y = other.diry

    with objEnemy {
        if scrCollisionLineExt(x, y, global.my_id.x, global.my_id.y, 4, objSolid, objWall, objSolidCaster, objDoorV, objWallSoftH) = 0 {
            alert = 2
            if sprite_index = sprEWalkUnarmed or sprite_index = sprEGangWalkUnarmed alert = 0

            if sprite_index = sprEWalkShotgun
            or sprite_index = sprEWalkSilencer
            or sprite_index = sprEWalkDoubleBarrel
            or sprite_index = sprEWalkSilencer
            or sprite_index = sprEGangWalkShotgun
            or sprite_index = sprEGangWalkUzi
            or sprite_index = sprEGangWalk9mm
            checkreload = 50
            else checkreload = 5
            reload = 10
            chasex = global.my_x
            chasey = global.my_y
        }
    }

}
image_xscale = 1.5
image_yscale = 1.5
bullets = 0
energie -= 1 + other.caliber

//Blood smoke.
with objBullet {
    if place_meeting(x, y, global.my_id) {
        global.my_id.bullets += 1
        my_id = instance_create(x, y, objSmokeHit)
        my_id.color1 = c_red
        my_id.color2 = c_maroon
        my_id.image_angle = image_angle
        my_id.direction = image_angle
        my_id.speed = random(1)
        instance_destroy()
        alert = 1
    }
}

image_xscale = 1
image_yscale = 1
edir = other.direction
if point_distance(other.x, other.y, other.startx, other.starty) &gt; 150 {
    if other.swat = 0 {
        ds_list_add(global.bonuslist, "Sharp Shooter")
        if global.bonustime &lt; 12 global.bonustime = 12
    }
}
test = 0


//scrGoreShotgun(x,y,direction,skin,skinx,skiny,skindir,brains)


//Begin gun kills.
if bullets &gt; 1 or round(random(1)) or energie &lt; 0 {
    if sprite_index = sprEWalkUnarmed
    or sprite_index = sprEGangWalkUnarmed
    or sprite_index = sprEGiveUp noweapon = 1
    else noweapon = 0

    //Drop weapon.
    if noweapon = 0 {
        my_id = instance_create(x, y, objWeaponThrow)
        my_id.image_index = scrCurrentWeaponExt(sprite_index)
        my_id.direction = other.direction - 70 + random(40)
        my_id.speed = 2 + random(2)
        my_id.ammo = ammo
    }

    scrIdleGetEnemy()
    
    if other.swat = 0 global.punchonly = 0
    if noweapon = 1 factor = 0.5
    else factor = 1
    if other.swat = 0 {
        //my_id = instance_create(x, y - 12, objScore)
        //my_id.text = "+" + string(((450) + 200 * factor) * global.factor) + "pts"
        global.myscore += ((450) + 200 * factor) * global.factor
        global.killscore += (400)
        global.boldscore += 400 * factor
        global.combo += 1
        global.combotime = 240
        global.killx[global.kills] = x
        global.killy[global.kills] = y
        global.kills += 1
        global.gunkill += 1
        if global.bonustime &lt; 12 + global.factor * 4 global.bonustime = 12 + global.factor * 4
        if global.factor = 2 ds_list_add(global.bonuslist, "Exposure")
        if global.factor = 3 ds_list_add(global.bonuslist, "Double Exposure")
        if global.factor = 4 ds_list_add(global.bonuslist, "Triple Exposure")
        if global.factor &gt; 4 ds_list_add(global.bonuslist, "Severe Exposure")
    }

    //BEGIN GUN GORE
    my_id = instance_create(x, y, objDeadBody)
    my_id.direction = edir
    my_id.image_angle = my_id.direction
    my_id.speed=1+random(1)+argument1*0.5
    if my_id.speed &gt; 4.5 my_id.speed = 4.5
    my_id.friction = 0.15
    sound_ps(choose(sndCrossbowHit1, sndCrossbowHit2, sndCrossbowHit3, sndCrossbowHit4))
    sound_ps(sndPunch)
    
    if scrBodyIsFlying(my_id.sprite_index) {
    my_id.alarm[0] = 6
    my_id.image_angle = my_id.direction
    if my_id.image_index &lt; 3 {
        my_id.image_index += .25
    } else my_id.image_index = 3
}

    //GANG SHOT 
    if scrIsGang(object_index) {

         if bullets &gt; 1 {
            if bullets &gt; 3 and round(random(1)) my_id.sprite_index = sprEGangFlyShotgun 
            else my_id.sprite_index = sprEGangDeadShotgun
            my_id.image_index = floor(random(8))
            my_id.speed = 2.5 + random(2) + bullets * 0.15
            my_id.direction = edir
            my_id.image_angle = my_id.direction
            scrEnemyDieShot(object_index,bullets)
        } else {
            my_id.sprite_index = sprEGangDeadMachinegun
            my_id.image_index = floor(random(8))
            my_id.direction = edir
            my_id.speed = 1 + random(2) + bullets * 0.15
            my_id.image_angle = my_id.direction
            scrEnemyDieShot(object_index,bullets)
        }
    }


    //END GANG SHOT
    else

    {
        //MAFIA GORE
        if bullets &gt; 1 {
            if bullets &gt; 3 and round(random(1)) my_id.sprite_index = sprEShotgunFly
            else my_id.sprite_index = choose(sprEFrontShotgun, sprEBackShotgun)
            my_id.image_index = floor(random(8))
            my_id.speed = 2.5 + random(2) + bullets * 0.15
            my_id.direction = edir
            my_id.image_angle = my_id.direction
            scrEnemyDieShot(object_index,bullets)
        } else {
            my_id.sprite_index = choose(sprEBackMachinegun, sprEBackMachinegun, sprEFrontMachinegun)
            my_id.speed = 1 + random(2) + bullets * 0.15
            my_id.image_index = floor(random(8))
            my_id.direction = edir
            my_id.image_angle = my_id.direction
            scrMeleeBlood(x,y)
        }

        my_id.image_index = floor(random(19))
        if my_id.sprite_index = sprEBackShotgun and round(random(12)) = 2 {
            my_id.sprite_index = sprEBackShotgunVomit my_id.image_index = 0
        }
        if my_id.sprite_index = sprEBackShotgun and round(random(12)) = 2 {
            my_id.sprite_index = sprEBackHeadJerk my_id.image_index = 0
        }
        my_id.direction = edir
        my_id.image_angle = my_id.direction
        //scrEnemyDieShot(object_index,bullets)

        if my_id.sprite_index = sprEBackMachinegun or my_id.sprite_index = sprEBackShotgun and round(random(24)) = 2 {
            my_id.sprite_index = sprEBackHeadshot
            sound_play(sndHeadshot)
            my_id.image_index = 0
            my_id.speed = 0
            my_id.image_angle -= 180
        } else
        //BEGIN SPECIAL CASES
        {

            if sprite_index = sprEFrontShotgun or sprite_index = sprEBackShotgun or sprite_index = sprEGangDeadShotgun or sprite_index = sprPoliceFrontShotgun or sprite_index = sprPoliceBackShotgun {
                if image_index = 1 or image_index = 5 or image_index = 8 {
                    repeat(5) {
                        my_id = instance_create(x - 3 + random(6), y - 3 + random(6), objIntestine)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y)
                        my_id.speed = 1.5 + random(1.5)
                    }
                    //scrEnemyDieShot(object_index,bullets)
                }
            }

            if sprite_index = sprEFrontShotgun or sprite_index = sprEBackShotgun or sprite_index = sprEGangDeadShotgun or sprite_index = sprPoliceFrontShotgun or sprite_index = sprPoliceBackShotgun {
                if image_index = 4 {
                    i = 0
                    //scrEnemyDieShot(object_index,bullets)
                    repeat(7) {
                        my_id = instance_create(x + lengthdir_x(20, image_angle), y + lengthdir_y(20, image_angle), objBrains)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y) - 20 + random(40)
                        my_id.speed = 2 + random(2)
                    }
                    repeat(3) {
                        my_id = instance_create(x + lengthdir_x(20, image_angle), y + lengthdir_y(20, image_angle), objBrains2)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y) - 10 + random(20)
                        my_id.speed = 1.5 + random(1.5)
                        my_id.image_index = i
                        i += 1
                    }
                }
            }
            
            if sprite_index = sprEFrontMachinegun or sprite_index = sprEBackMachinegun or sprite_index = sprEGangDeadMachinegun {
                if image_index = 0 or image_index = 3 {
                    i = 0
                    //scrEnemyDieShot(object_index,bullets)
                    repeat(7) {
                        my_id = instance_create(x + lengthdir_x(20, image_angle), y + lengthdir_y(20, image_angle), objBrains)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y) - 20 + random(40)
                        my_id.speed = 2 + random(2)
                    }
                    repeat(3) {
                        my_id = instance_create(x + lengthdir_x(20, image_angle), y + lengthdir_y(20, image_angle), objBrains2)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y) - 10 + random(20)
                        my_id.speed = 1.5 + random(1.5)
                        my_id.image_index = i
                        i += 1
                    }
                }
            }
            //END SPECIAL CASES
        }


        //END MAFIA GORE
        //END GUN GORE

    }
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objFlame">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sound_play(sndCatchFire)
my_id = instance_create(x, y, objBurningGuy)
my_id.direction = other.direction
my_id.speed = 3
instance_destroy()

//my_id = instance_create(x, y - 12, objScore)
//my_id.text = "+" + "500pts"
global.myscore += 200
global.killscore += 100
global.boldscore += 100
global.combo += 1
global.combotime = 240
global.killx[global.kills] = x
global.killy[global.kills] = y
global.kills += 1
if global.bonustime &lt; 12 + global.factor * 4 global.bonustime = 12 + global.factor * 4
if global.factor = 2 ds_list_add(global.bonuslist, "Exposure")
if global.factor = 3 ds_list_add(global.bonuslist, "Double Exposure")
if global.factor = 4 ds_list_add(global.bonuslist, "Triple Exposure")
if global.factor &gt; 4 ds_list_add(global.bonuslist, "Severe Exposure")
instance_destroy()


my_id = instance_create(x, y, objWeaponThrow)
my_id.image_index = scrCurrentWeaponExt(sprite_index)
my_id.direction = other.direction - 70 + random(40)
my_id.speed = 2 + random(2)
my_id.ammo = ammo

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objThrowingKnife">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if other.speed &gt; 10 {
    if instance_exists(objLSD) sound_play(sndLSDSplat) else sound_play(choose(sndHit, sndHit2, sndHit3, sndHit1))
    sound_play(choose(sndCut1,sndCut2))
    scrKnifeThrowHits()
    image_index = 1
    image_speed = 0
    speed = 0
    angle = other.direction - 180
    direction = other.direction - 180
    if path_index &gt; 0 path_end()
    with other {
        my_id = instance_create(x, y, objSmokeHit)
        my_id.color1 = c_red
        my_id.color2 = c_maroon
        my_id.image_angle = image_angle
        my_id.direction = image_angle
        my_id.speed = random(1)
        instance_destroy()
    }
    exit
}



</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objBullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//if global.maskindex=15 
energie = 0
if object_get_parent(object_index) = objEnemyIdle energie = 0
global.my_id = id
if other.passed = 1 {
    if other.swat = 0 {
        ds_list_add(global.bonuslist, "Sneaky Shot")
        if global.bonustime &lt; 12 global.bonustime = 12
    }

    if object_get_parent(object_index) = objEnemyIdle {
        instance_destroy()
        my_id = instance_create(x, y, objEnemy)
        my_id.alert = 2
        exit
    }

    global.my_x = other.dirx
    global.my_y = other.diry

    with objEnemy {
        if scrCollisionLineExt(x, y, global.my_id.x, global.my_id.y, 4, objSolid, objWall, objDoorV, objSolidCaster, objWallSoftH) = 0 {
            alert = 2
            if sprite_index = sprEWalkUnarmed or sprite_index = sprEGangWalkUnarmed alert = 0

            if sprite_index = sprEWalkShotgun
            or sprite_index = sprEWalkSilencer
            or sprite_index = sprEWalkDoubleBarrel
            or sprite_index = sprEWalkSilencer
            or sprite_index = sprEGangWalkShotgun
            or sprite_index = sprEGangWalkUzi
            or sprite_index = sprEGangWalk9mm
            checkreload = 50
            else checkreload = 5
            reload = 10
            chasex = global.my_x
            chasey = global.my_y
        }
    }

}
image_xscale = 1.5
image_yscale = 1.5
bullets = 0
energie -= 1 + other.caliber

//Blood smoke.
with objBullet {
    if place_meeting(x, y, global.my_id) {
        global.my_id.bullets += 1
        my_id = instance_create(x, y, objSmokeHit)
        my_id.color1 = c_red
        my_id.color2 = c_maroon
        my_id.image_angle = image_angle
        my_id.direction = image_angle
        my_id.speed = random(1)
        if caliber=0 instance_destroy()
        alert = 1
    }
}

image_xscale = 1
image_yscale = 1
edir = other.direction
if point_distance(other.x, other.y, other.startx, other.starty) &gt; 150 {
    if other.swat = 0 {
        ds_list_add(global.bonuslist, "Sharp Shooter")
        if global.bonustime &lt; 12 global.bonustime = 12
    }
}
test = 0


//Begin gun kills.
if bullets &gt; 1 or round(random(1)) or energie &lt; 0 {
    if sprite_index = sprEWalkUnarmed
    or sprite_index = sprEGangWalkUnarmed
    or sprite_index = sprEGiveUp noweapon = 1
    else noweapon = 0

    //Drop weapon.
    if noweapon = 0 {
        my_id = instance_create(x, y, objWeaponThrow)
        my_id.image_index = scrCurrentWeaponExt(sprite_index)
        my_id.direction = other.direction - 70 + random(40)
        my_id.speed = 2 + random(2)
        my_id.ammo = ammo
    }

    scrIdleGetEnemy()
    
    if other.swat = 0 global.punchonly = 0
    if noweapon = 1 factor = 0.5
    else factor = 1
    if other.swat = 0 {
        //my_id = instance_create(x, y - 12, objScore)
        //my_id.text = "+" + string(((450) + 200 * factor) * global.factor) + "pts"
        global.myscore += ((450) + 200 * factor) * global.factor
        global.killscore += (400)
        global.boldscore += 400 * factor
        global.combo += 1
        global.combotime = 240
        global.killx[global.kills] = x
        global.killy[global.kills] = y
        global.kills += 1
        global.gunkill += 1
        if global.bonustime &lt; 12 + global.factor * 4 global.bonustime = 12 + global.factor * 4
        if global.factor = 2 ds_list_add(global.bonuslist, "Exposure")
        if global.factor = 3 ds_list_add(global.bonuslist, "Double Exposure")
        if global.factor = 4 ds_list_add(global.bonuslist, "Triple Exposure")
        if global.factor &gt; 4 ds_list_add(global.bonuslist, "Severe Exposure")
    }

    //BEGIN GUN GORE

    //LSD gore.
    if instance_exists(objLSD) and bullets &gt; 1 and round(random(4)) = 2  {
        scrMeleeBlood(x,y)
        scrMeleeBlood(x,y)
        my_id=instance_create(x,y,objMafiaSlither)
        my_id.direction=image_angle-180
        my_id.speed=3
        instance_destroy()   
    }
    
    if instance_exists(objLSD) sound_play(sndLSDSplat)
    my_id = instance_create(x, y, objDeadBody)
    my_id.direction = edir
    my_id.image_angle = my_id.direction
    my_id.speed=1+random(1)+argument1*0.5
    if my_id.speed &gt; 4.5 my_id.speed = 4.5
    my_id.friction = 0.15
    
    if scrBodyIsFlying(my_id.sprite_index) {
    my_id.alarm[0] = 6
    my_id.image_angle = my_id.direction
    if my_id.image_index &lt; 3 {
        my_id.image_index += .25
    } else my_id.image_index = 3
}

    //GANG SHOT 
    if scrIsGang(object_index) {

         if bullets &gt; 1 {
            if bullets &gt; 3 and round(random(1)) my_id.sprite_index = sprEGangFlyShotgun 
            else my_id.sprite_index = sprEGangDeadShotgun
            my_id.image_index = floor(random(8))
            my_id.speed = 2.5 + random(2) + bullets * 0.15
            my_id.direction = edir
            my_id.image_angle = my_id.direction
            scrEnemyDieShot(object_index,bullets)
        } else {
            my_id.sprite_index = sprEGangDeadMachinegun
            my_id.image_index = floor(random(8))
            my_id.direction = edir
            my_id.speed = 1 + random(2) + bullets * 0.15
            my_id.image_angle = my_id.direction
            scrEnemyDieShot(object_index,bullets)
        }
    }


    //END GANG SHOT
    else

    {
        //MAFIA GORE
        if bullets &gt; 1 {
            if bullets &gt; 3 and round(random(1)) my_id.sprite_index = sprEShotgunFly
            else my_id.sprite_index = choose(sprEFrontShotgun, sprEBackShotgun)
            my_id.image_index = floor(random(8))
            my_id.speed = 2.5 + random(2) + bullets * 0.15
            my_id.direction = edir
            my_id.image_angle = my_id.direction
            scrEnemyDieShot(object_index,bullets)
        } else {
            my_id.sprite_index = choose(sprEBackMachinegun, sprEBackMachinegun, sprEFrontMachinegun)
            my_id.speed = 1 + random(2) + bullets * 0.15
            my_id.image_index = floor(random(8))
            my_id.direction = edir
            my_id.image_angle = my_id.direction
            scrMeleeBlood(x,y)
        }

        my_id.image_index = floor(random(19))
        if (my_id.sprite_index = sprEBackShotgun or my_id.sprite_index = sprEFrontShotgun) and round(random(5)) = 2 {
            my_id.sprite_index = sprEBackShotgunVomit my_id.image_index = 0
        }
        if (my_id.sprite_index = sprEBackShotgun or my_id.sprite_index = sprEFrontShotgun) and round(random(5)) = 2 {
            my_id.sprite_index = sprEBackHeadJerk my_id.image_index = 0
        }
        my_id.direction = edir
        my_id.image_angle = my_id.direction
        //scrEnemyDieShot(object_index,bullets)

        if (my_id.sprite_index = sprEBackMachinegun or my_id.sprite_index = sprEFrontMachinegun or my_id.sprite_index = sprEBackShotgun or my_id.sprite_index = sprEFrontShotgun) and round(random(7)) = 2 {
            my_id.sprite_index = sprEBackHeadshot
            sound_play(sndHeadshot)
            my_id.image_index = 0
            my_id.speed = 0
            my_id.image_angle -= 180
        } else
        //BEGIN SPECIAL CASES
        {

            if sprite_index = sprEFrontShotgun or sprite_index = sprEBackShotgun or sprite_index = sprEGangDeadShotgun or sprite_index = sprPoliceFrontShotgun or sprite_index = sprPoliceBackShotgun {
                if image_index = 1 or image_index = 5 or image_index = 8 {
                    repeat(5) {
                        my_id = instance_create(x - 3 + random(6), y - 3 + random(6), objIntestine)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y)
                        my_id.speed = 1.5 + random(1.5)
                    }
                    repeat(5) {
                        my_id = instance_create(x - 3 + random(6), y - 3 + random(6), objFleshChunk)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y)
                        my_id.speed = 1.5 + random(1.5)
                    }
                    //scrEnemyDieShot(object_index,bullets)
                }
            }

            if sprite_index = sprEFrontShotgun or sprite_index = sprEBackShotgun or sprite_index = sprEGangDeadShotgun or sprite_index = sprPoliceFrontShotgun or sprite_index = sprPoliceBackShotgun {
                if image_index = 4 {
                    i = 0
                    //scrEnemyDieShot(object_index,bullets)
                    repeat(7) {
                        my_id = instance_create(x + lengthdir_x(20, image_angle), y + lengthdir_y(20, image_angle), objBrains)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y) - 20 + random(40)
                        my_id.speed = 2 + random(2)
                    }
                    repeat(3) {
                        my_id = instance_create(x + lengthdir_x(20, image_angle), y + lengthdir_y(20, image_angle), objBrains2)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y) - 10 + random(20)
                        my_id.speed = 1.5 + random(1.5)
                        my_id.image_index = i
                        i += 1
                    }
                }
            }
            
            if sprite_index = sprEFrontMachinegun or sprite_index = sprEBackMachinegun or sprite_index = sprEGangDeadMachinegun {
                if image_index = 0 or image_index = 3 {
                    i = 0
                    //scrEnemyDieShot(object_index,bullets)
                    repeat(7) {
                        my_id = instance_create(x + lengthdir_x(20, image_angle), y + lengthdir_y(20, image_angle), objBrains)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y) - 20 + random(40)
                        my_id.speed = 2 + random(2)
                    }
                    repeat(3) {
                        my_id = instance_create(x + lengthdir_x(20, image_angle), y + lengthdir_y(20, image_angle), objBrains2)
                        my_id.direction = point_direction(x, y, my_id.x, my_id.y) - 10 + random(20)
                        my_id.speed = 1.5 + random(1.5)
                        my_id.image_index = i
                        i += 1
                    }
                }
            }
            //END SPECIAL CASES
        }


        //END MAFIA GORE
        //END GUN GORE

    }
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if scrIsSearching(sprite_index) {
    sprite_index = scrStopSearch(sprite_index)
    image_speed = 0
}

if sprite_index = sprEGangDieThrowingKnife or sprite_index = sprEDieThrowingKnife {
    my_id = instance_create(x, y, objDeadBody)
    if sprite_index = sprEGangDieThrowingKnife my_id.sprite_index = sprEGangDieThrowingKnife else my_id.sprite_index = sprEDieThrowingKnife
    my_id.image_index = 15
    my_id.direction = direction
    my_id.speed = 0.5
    my_id.image_angle = my_id.direction
    instance_destroy()
    exit
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if object_get_parent(object_index)=objEnemyIdle exit

if sprite_index=sprEWalkAK 
sprite_index=choose(sprEWalkSilencer,sprEWalkM16,sprEWalkShotgun,sprEWalkDoubleBarrel,sprEWalkAK,sprEWalkHandgun,sprEWalkThompson)
if sprite_index=sprEWalkM16 ammo=24
if sprite_index=sprEWalkShotgun ammo=6
if sprite_index=sprEWalkDoubleBarrel ammo=2
if sprite_index=sprEWalkSilencer ammo=13
if sprite_index=sprEWalkAK ammo=30
if sprite_index=sprEWalkHandgun ammo=17
if sprite_index = sprEWalkThompson ammo = 50

if sprite_index=sprEGangWalkShotgun
sprite_index=choose(sprEGangWalkShotgun,sprEGangWalkUzi,sprEGangWalk9mm)
if sprite_index=sprEGangWalkUzi ammo=30
if sprite_index=sprEGangWalkShotgun ammo=6
if sprite_index=sprEGangWalk9mm ammo=17

if global.maskindex=10 ammo=ceil(ammo*3)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if shake&gt;0 shake-=0.5
angle = direction

//Draw circle of light.
/*if light&gt;0 light-=1
draw_set_blend_mode(bm_add)
draw_circle_color(x,y,48+random(6)+light,make_color_hsv(0,0,30),c_black,0)
draw_set_blend_mode(bm_normal)
*/
if scrIsSearching(sprite_index) nothing = 1
else {
    draw_sprite_ext(sprELegs, image_index * 2, x + 1, y + 1, image_xscale, image_yscale, angle, c_black, 0.5)
    draw_sprite_ext(sprELegs, image_index * 2, x, y, image_xscale, image_yscale, angle, image_blend, image_alpha)
}
draw_sprite_ext(sprite_index, image_index, x + 1 - shake + random(shake * 0.5), y + 1 - shake + random(shake * 0.5), image_xscale, image_yscale, angle, c_black, 0.5)
draw_sprite_ext(sprite_index, image_index, x - shake + random(shake * 0.5), y - shake + random(shake * 0.5), image_xscale, image_yscale, angle, image_blend, image_alpha)
draw_set_color(c_white)
//draw_path(my_path,0,0,1)
lastsprite = sprite_index
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>

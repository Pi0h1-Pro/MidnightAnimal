<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprNicoleWalkCleaver</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1</depth>
  <persistent>0</persistent>
  <parentName>objPlayer</parentName>
  <maskName>sprMask</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 scrInitXboxButtons()

//SLOW TIME VARIABLES
isPause=false
reloadTime=0
pauseTime=0
berserk = 0

active = 1
save = 0
image_speed=0
dir=0
movex=0
movey=0
move=0
viewspeed=0
myxspeed=0
myyspeed=0
myspeed=0
reload=20
light=0
legdir=0
legindex=0
left=1
knives=10
energie=1
ammo=0
mags=0
lastx=0
lasty=0
global.enemy=-1234
if !variable_local_exists("clear") clear=0
aim=0
if !place_free(x,y) {
x=global.executionx
y=global.executiony
}

aimfar=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if persistent=0 nothing=1 else active=1
persistent=0
scrSaveFloor() 
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string> scrPlayerMoveKeyboard()


 if room = rmTrainstationDownstairs or room = rmPoliceHQFloor3 or instance_exists(objVan) clear = 1
 if instance_number(objEnemy) + instance_number(objKnockedOut) + instance_number(objECrawl) + instance_number(objMiscEnemy) + instance_number(objBoss) = 0 {
     test = 1
     if test = 1 {
         if clear = 0 and global.done = 0 {
             clear = 1
             my_id = instance_create(x, y, objCheckpoint)
             my_id.text = "FLOOR CLEARED"
         }
     }
 } else clear = 0



 global.test = 0
 with objWeapon {
     if point_distance(x, y, objPlayer.x, objPlayer.y) &lt; 32 global.test = 2
 }
 if place_meeting(x, y, objKnockedOut) global.test = 1
 objEffector.action = global.test


 //Initiates aiming for shift key.
 if global.xbox = 0 aimfar = keyboard_check_direct(vk_shift)
 else aimfar = trigger_pressed(1)//checkbutton(0, getid(9))
 factor = 1

 //Xbox shit.
 if aimfar {
     if global.xbox = 1 {
         viewx = objPlayer.x + rightthumb_x(0) * 0.0045
         viewy = objPlayer.y - rightthumb_y(0) * 0.003
     } else {
         viewx = objPlayer.x + ((display_mouse_get_x() - display_get_width() * 0.5) * (view_wview[0] / display_get_width())) * factor
         viewy = objPlayer.y + ((display_mouse_get_y() - display_get_height() * 0.5) * (view_hview[0] / display_get_height())) * factor
     }
     viewspeed = point_distance(view_xview[0] + view_wview[0] / 2, view_yview[0] + view_hview[0] / 2, viewx, viewy) * 0.1
     viewdir = point_direction(view_xview[0] + view_wview[0] / 2, view_yview[0] + view_hview[0] / 2, viewx, viewy)
     view_xview[0] += lengthdir_x(viewspeed, viewdir)
     view_yview[0] += lengthdir_y(viewspeed, viewdir)
     vdist = point_distance(x, y, room_width / 2, room_height / 2)
     vdir = point_direction(room_width / 2, room_height / 2, x, y)
     view_angle[0] = lengthdir_y(vdist * (1 / 160), vdir * 2)
 } else {

     //Shift aim.
     viewspeed = point_distance(view_xview[0] + view_wview[0] / 2, view_yview[0] + view_hview[0] / 2, x + lengthdir_x(24, dir), y + lengthdir_y(24, dir)) * 0.1
     viewdir = point_direction(view_xview[0] + view_wview[0] / 2, view_yview[0] + view_hview[0] / 2, x + lengthdir_x(24, dir), y + lengthdir_y(24, dir))

     view_xview[0] += lengthdir_x(viewspeed, viewdir)
     view_yview[0] += lengthdir_y(viewspeed, viewdir)

     vdist = point_distance(x, y, room_width / 2, room_height / 2)
     vdir = point_direction(room_width / 2, room_height / 2, x, y)
     view_angle[0] = lengthdir_y(vdist * (1 / 160), vdir * 2)
 }

 xview = view_xview[0]
 yview = view_yview[0]
 if persistent = 1 and objEffector.fade = 1 {
     if place_free(x + addx, y) x += addx
     if place_free(x, y + addy) y += addy
     if image_speed = 0 image_index += 0.15
     legindex += 0.4
     exit
 }

 if sprite_index = sprNicoleAttackCleaver {
     lastx = x
     lasty = y
     global.spacex = lengthdir_x(12, dir)
     global.spacey = lengthdir_y(12, dir)
     x += global.spacex
     y += global.spacey
     global.my_id = id
     with objGlassPanelH {
         if place_meeting(x, y, global.my_id) {
             if global.my_id.lasty &lt; y + 2 {
                 add = -1
             } else {
                 add = 1
             }
             i = 0
             repeat(40) {
                 my_id = instance_create(x + i * 1.5, y, objShard)
                 my_id.speed = random(5)
                 my_id.direction = add * 90 - 8 + random(16)
                 i += 1
             }
             instance_create(x, y, objGlassPanelHBroken)
             global.shake = 4
             instance_destroy()
             if instance_exists(objLSD) sound_play(choose(sndGlassBreakLSD, sndGlassReverse))
             else sound_play(choose(sndGlass1, sndGlass2))
             sound_play(sndWeaponHit)
         }
     }

     with objGlassPanelV {
         if place_meeting(x, y, global.my_id) {
             if global.my_id.lastx &lt; x + 2 {
                 add = -1
             } else {
                 add = 1
             }
             i = 0
             repeat(40) {
                 my_id = instance_create(x, y + i * 1.5, objShard)
                 my_id.speed = random(5)
                 my_id.direction = 90 + add * 90 - 8 + random(16)
                 i += 1
             }
             instance_create(x, y, objGlassPanelVBroken)
             global.shake = 4
             instance_destroy()
             if instance_exists(objLSD) sound_play(choose(sndGlassBreakLSD, sndGlassReverse))
             else sound_play(choose(sndGlass1, sndGlass2))
             sound_play(sndWeaponHit)
         }
     }

     x += lengthdir_x(12, dir)
     y += lengthdir_y(12, dir)

     //Kill fat enemies.
     with objEnemyFat {
         if place_meeting(x, y, objPlayer) or place_meeting(x + global.spacex, y + global.spacey, objPlayer) {
             mask_index = sprWeaponMask
             if scrCollisionLineExt(x, y, objPlayer.lastx, objPlayer.lasty, 4, objSolid, objWall, objSolidCaster, objDoorV, objWallSoftH) //or object_index=objEnemyFat 
                 {
                     mask_index = sprMask objPlayer.x = objPlayer.lastx objPlayer.y = objPlayer.lasty exit
                 }
             mask_index = sprMask
             global.shake = 7

             edir = point_direction(objPlayer.lastx, objPlayer.lasty, x, y)
             my_id = instance_create(x, y, objMCKillFat)
             my_id.direction = edir - 10 + random(20)
             my_id.image_angle = my_id.direction
                 //with my_id move_outside_solid(my_id.image_angle-180,16)
             instance_destroy()
             with objPlayerBiker {
                 instance_destroy()
             }
         }
     }

     //Kill fat enemies.
     with objEnemyFatStatic {
         if place_meeting(x, y, objPlayer) or place_meeting(x + global.spacex, y + global.spacey, objPlayer) {
             mask_index = sprWeaponMask
             if scrCollisionLineExt(x, y, objPlayer.lastx, objPlayer.lasty, 4, objSolid, objWall, objSolidCaster, objDoorV, objWallSoftH) //or object_index=objEnemyFat 
                 {
                     mask_index = sprMask objPlayer.x = objPlayer.lastx objPlayer.y = objPlayer.lasty exit
                 }
             mask_index = sprMask
             global.shake = 7

             edir = point_direction(objPlayer.lastx, objPlayer.lasty, x, y)
             my_id = instance_create(x, y, objMCKillFat)
             my_id.direction = edir - 10 + random(20)
             my_id.image_angle = my_id.direction
                 //with my_id move_outside_solid(my_id.image_angle-180,16)
             instance_destroy()
             with objPlayerBiker {
                 instance_destroy()
             }
         }
     }
     
     with objEnemy {
         edir = point_direction(objPlayer.lastx, objPlayer.lasty, x, y)
         if place_meeting(x, y, objPlayer) or place_meeting(x + global.spacex, y + global.spacey, objPlayer) {
             mask_index = sprWeaponMask
             if scrCollisionLineExt(x, y, objPlayer.lastx, objPlayer.lasty, 4, objSolid, objWall, objSolidCaster, objDoorV, objWallSoftH) //or object_index=objEnemyFat 
                 {
                     mask_index = sprMask objPlayer.x = objPlayer.lastx objPlayer.y = objPlayer.lasty exit
                 }
             mask_index = sprMask
             global.shake = 7
             my_id = instance_create(x, y - 12, objScore)

             if object_get_parent(object_index) = objEnemyIdle {
                 if room = rmTrainstationEntrance sprite_index = sprEWalkKnife
                 else sprite_index = choose(sprEWalkShotgun, sprEWalkM16)
             }

             if sprite_index = sprEWalkUnarmed or sprite_index = sprPoliceWalkUnarmed {
                 //my_id.text = "+" + string((100) + 100 * global.factor) + "pts"
                 global.myscore += (100) + 100 * global.factor
                 global.boldscore = 100 * global.factor
                 global.killscore += 100
                 global.combo += 1
                 global.combotime = 240
                 global.killx[global.kills] = x
                 global.killy[global.kills] = y
                 global.kills += 1
             } else {
                 global.myscore += (200) + 200 * global.factor
                 global.killscore += 200
                 global.boldscore += 200 * global.factor
                 global.combo += 1
                 global.combotime = 240
                 global.killx[global.kills] = x
                 global.killy[global.kills] = y
                 global.kills += 1
                 if global.bonustime &lt; 12 + global.factor * 4 global.bonustime = 12 + global.factor * 4
                 if global.factor = 2 ds_list_add(global.bonuslist, "Exposure")
                 if global.factor = 3 ds_list_add(global.bonuslist, "Double Exposure")
                 if global.factor = 4 ds_list_add(global.bonuslist, "Triple Exposure")
                 if global.factor &gt; 4 ds_list_add(global.bonuslist, "Severe Exposure")
             }


             //BEGIN GORE
             my_id = instance_create(x, y, objDeadBody) {

                 //DOGS
                 if object_index = objDogPatrol {
                     sound_play(choose(sndCut1, sndCut2));
                     sound_play(choose(sndHit, sndHit1, sndHit2, sndHit3))
                     my_id.sprite_index = sprDogDeadPieces
                     my_id.direction = point_direction(objPlayer.x, objPlayer.y, x, y) - 5 + random(10)
                     my_id.speed = 3 + random(1)
                     my_id.friction = 0.15
                     death = choose(0, 2)
                     my_id.image_index = 0 + death
                     my_id.image_angle = my_id.direction
                     scrMeleeBlood(x, y)
                     scrGoreCut(x, y, edir - 180, 1)
                         //1 lower
                     partdog = instance_create(x, y, objDogPart)
                     partdog.sprite_index = sprDogDeadPieces
                     partdog.direction = point_direction(objPlayer.x, objPlayer.y, x, y) - 5 + random(10)
                     partdog.speed = 1 + random(1)
                     partdog.friction = 0.15
                     partdog.image_index = 1 + death
                     partdog.image_angle = my_id.direction
                     scrMeleeBlood(x, y)
                     scrGoreCut(x, y, edir - 180, 1)
                 }

                 //ENEMIES
                 else {
                     sound_play(choose(sndCut1, sndCut2))
                     sound_play(choose(sndHit, sndHit1, sndHit2, sndHit3))
                     if scrIsGang(object_index) my_id.sprite_index = sprEGangBackSlashed
                     else my_id.sprite_index = sprEBackSlashed
                     my_id.image_index = floor(random(6))
                     my_id.direction = point_direction(objPlayer.x, objPlayer.y, x, y) - 5 + random(10)
                     my_id.image_angle = my_id.direction

                     //DECAPITATION 0 
                     if my_id.image_index = 0 {
                         global.shake = 8
                         scrMeleeBlood(x, y)
                         scrGoreCut(x, y, edir - 180, 0)
                             //HEAD
                         part = instance_create(x, y, objSeveredHead)
                         part.direction = random(360)
                         part.speed = 1 + random(2)

                     }

                     //CUT IN HALF CLEAN 1 
                     if my_id.image_index = 1 {
                         scrMeleeBlood(x, y)
                         scrGoreCut(x, y, edir - 180, 1)
                         part = instance_create(my_id.x + lengthdir_x(22, edir), my_id.y + lengthdir_y(18, edir), objBodyPart)
                         if scrIsGang(object_index) part.sprite_index = sprEGangDeadPieces
                         else part.sprite_index = sprEBackSlashedPiece
                         part.direction = point_direction(objPlayer.x, objPlayer.y, x, y) - 5 + random(10)
                         part.speed = 1 + random(1)
                         part.friction = 0.15
                         part.image_index = 1
                         part.alarm[0] = 6
                         part.image_angle = part.direction
                     }

                     //UPPER HALF CUT 2 
                     if my_id.image_index = 2 {
                         scrMeleeBlood(x, y)
                         scrGoreCut(x, y, edir - 180, 0)
                         part = instance_create(my_id.x + lengthdir_x(22, edir), my_id.y + lengthdir_y(18, edir), objBodyPart)
                         if scrIsGang(object_index) part.sprite_index = sprEGangDeadPieces
                         else part.sprite_index = sprEBackSlashedPiece
                         part.direction = point_direction(objPlayer.x, objPlayer.y, x, y) - 5 + random(10)
                         part.speed = 1 + random(1)
                         part.friction = 0.15
                         part.image_index = 2
                         part.alarm[0] = 6
                         part.image_angle = part.direction
                     }

                     //CUT IN HALF w. EVISCERATION 3 
                     if my_id.image_index = 3 {
                         scrMeleeBlood(x, y)
                         scrGoreCut(x, y, edir - 180, 1)
                         part = instance_create(my_id.x + lengthdir_x(22, edir), my_id.y + lengthdir_y(18, edir), objBodyPart)
                         if scrIsGang(object_index) part.sprite_index = sprEGangDeadPieces
                         else part.sprite_index = sprEBackSlashedPiece
                         part.direction = point_direction(objPlayer.x, objPlayer.y, x, y) - 5 + random(10)
                         part.speed = 1 + random(1)
                         part.friction = 0.15
                         part.image_index = 3
                         part.alarm[0] = 6
                         part.image_angle = part.direction

                         if instance_exists(part) {
                             if part.sprite_index = sprEGangDeadPieces and part.image_index = 3 and round(random(2)) = 3 {
                                 part.sprite_index = sprEGangHalvedWakeUp
                                 part.image_index = 0
                             }
                         }
                     }

                     //CUT IN HALF w. SPINE 4
                     if my_id.image_index = 4 {
                         scrMeleeBlood(x, y)
                         scrGoreCut(x, y, edir - 180, 1)
                         part = instance_create(my_id.x + lengthdir_x(22, edir), my_id.y + lengthdir_y(18, edir), objBodyPart)
                         if scrIsGang(object_index) part.sprite_index = sprEGangDeadPieces
                         else part.sprite_index = sprEBackSlashedPiece
                         part.direction = point_direction(objPlayer.x, objPlayer.y, x, y) - 5 + random(10)
                         part.speed = 1 + random(1)
                         part.friction = 0.15
                         part.image_index = 4
                         part.alarm[0] = 6
                         part.image_angle = part.direction
                     }

                     //R. ARM CUT 5 

                     if my_id.image_index = 5 {
                         scrMeleeBlood(x, y)
                         scrGoreCut(x, y, edir - 180, 0)
                             //4 body

                         //6 right arm
                         part = instance_create(my_id.x + lengthdir_x(22, edir), my_id.y + lengthdir_y(18, edir), objBodyPart)
                         if scrIsGang(object_index) part.sprite_index = sprEGangDeadPieces
                         else part.sprite_index = sprEBackSlashedPiece
                         part.direction = point_direction(objPlayer.x, objPlayer.y, x, y) - 45
                         part.speed = 3 + random(1)
                         part.friction = 0.15
                         part.image_index = 5
                             //part.alarm[0]=6
                         part.image_angle = part.direction
                         part.image_yscale = 1
                     }

                     //L. ARM CUT
                     if my_id.image_index = 6 {
                         scrMeleeBlood(x, y)
                         scrGoreCut(x, y, edir - 180, 0)
                             //5 left arm
                         part = instance_create(my_id.x + lengthdir_x(22, edir), my_id.y + lengthdir_y(18, edir), objBodyPart)
                         if scrIsGang(object_index) part.sprite_index = sprEGangDeadPieces
                         else part.sprite_index = sprEBackSlashedPiece
                         part.direction = point_direction(objPlayer.x, objPlayer.y, x, y) + 45
                         part.speed = 3 + random(1)
                         part.friction = 0.15
                         part.image_index = 6
                             //part.alarm[0]=6
                         part.image_angle = part.direction
                         part.image_yscale = 1

                     }
                 }

             }
             instance_destroy()
         }
     }
     x = lastx
     y = lasty
 }

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objEBullet">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.shake=10
with other {
if place_meeting(x,y,objSolid) or place_meeting(x,y,objSolidCaster) or place_meeting(x, y, objWall) {
move_outside_solid(direction-180,speed*2) 
if !place_meeting(x,y,objPlayer) exit
}
}
global.my_id=id
image_xscale=1.5
image_yscale=1.5
bullets=0
energie-=1
with objEBullet {
if place_meeting(x,y,global.my_id) {
my_id=instance_create(x,y,objSplat)
my_id.direction=direction-170+random(10)
my_id.image_angle=my_id.direction
my_id.image_xscale=0.8+random(0.2)
my_id.image_yscale=my_id.image_xscale
instance_destroy()
global.my_id.bullets+=1
}
}
image_xscale=1
image_yscale=1
edir=other.direction
test=0
scrShot(x,y)


if bullets&gt;1 or round(random(1)) or energie&lt;0 {
scrMeleeBlood(x,y)
my_id=instance_create(x,y,objPlayerDead)
if bullets&gt;1 my_id.sprite_index=sprNicoleDeadShotgun else my_id.sprite_index=sprNicoleDeadMG
my_id.image_index=1+floor(random(4))
my_id.direction=edir
my_id.speed=1.5+random(1)+bullets*0.15
my_id.image_angle=my_id.direction
my_id=instance_create(x+lengthdir_x(24,edir),y+lengthdir_y(24,edir),objMCHelmet)
my_id.direction=edir-40+random(80)
my_id.speed=1.5+random(1)

instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="55">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 exit
if instance_exists(global.enemy) { global.enemy=-1234 exit}
lastx=x
lasty=y
x=global.mousex
y=global.mousey
image_xscale=2
image_yscale=2
if place_meeting(global.mousex,global.mousey,objEnemy) {

global.enemy=-1234
with objEnemy {
if place_meeting(x,y,objPlayer) global.enemy=id
}


}

if place_meeting(global.mousex,global.mousey,objEnemyIdle) {
x=global.mousex
y=global.mousey
global.enemy=-1234
with objEnemyIdle {
if place_meeting(x,y,objPlayer) global.enemy=id
}
}

if place_meeting(global.mousex,global.mousey,objBoss) {
x=global.mousex
y=global.mousey
global.enemy=-1234
with objBoss {
if place_meeting(x,y,objPlayer) global.enemy=id
}
}

if place_meeting(global.mousex,global.mousey,objPanther) {
x=global.mousex
y=global.mousey
global.enemy=-1234
with objPanther {
if place_meeting(x,y,objPlayer) global.enemy=id
}
}

if place_meeting(global.mousex,global.mousey,objMiscEnemy) {
x=global.mousex
y=global.mousey
global.enemy=-1234
with objMiscEnemy {
if place_meeting(x,y,objPlayer) global.enemy=id
}
}

x=lastx
y=lasty

image_xscale=1
image_yscale=1</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="51">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 exit
if reload&gt;0 exit
if knives&lt;=0 exit

if place_meeting(x+lengthdir_x(10,dir),y+lengthdir_y(10,dir),objSecretMask) {
with objSecretMask {
global.masks[image_index]=1
global.newmask[global.newmasks]=image_index
global.newmasks+=1
sound_play(sndToken)
my_id=instance_create(x,y,objLetterFound)
my_id.text='"'+scrMaskGetName(image_index)+'"'
instance_destroy()
}
exit
}

if knives&gt;0 {
reload=10
sprite_index=sprNicoleThrowKnife
image_speed=0.5
knives-=1
my_id=instance_create(x,y,objThrowingKnife)
my_id.sprite_index=sprNicoleKnife
global.dir=dir
with my_id {
move_contact_solid(global.dir,12)
}
my_id.direction=dir
my_id.image_angle=dir
my_id.speed=28
sound_play(sndThrow)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="50">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 exit
if reload&gt;0 exit
sprite_index=sprNicoleAttackCleaver
image_index=0
image_speed=0.5
reload=15
sound_play(choose(sndSwing1,sndSwing2))
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if sprite_index=sprNicoleAttackCleaver {sprite_index=sprNicoleWalkCleaver image_speed=0}
if sprite_index=sprNicoleThrowKnife {sprite_index=sprNicoleWalkCleaver image_speed=0}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if persistent=1 {

if move=1 {
move=0
x+=movex
y+=movey
xview+=movex
yview+=movey
}

//view_xview[0]=xview
//view_yview[0]=yview
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if instance_exists(objEnemy) clear=0 else clear=1
if global.paused=1 { exit}
if !instance_exists(objEffector) instance_create(x,y,objEffector)
if !instance_exists(objBackgroundColor) {if room=rmJanitors with objBackgroundColor instance_destroy() else instance_create(x,y,objBackgroundColor)}
if !instance_exists(objSurfacer) instance_create(x,y,objSurfacer)
if !instance_exists(objTimeControl) instance_create(x,y,objTimeControl)
if persistent=1 {
/*if instance_exists(objElevator) {
vdist=point_distance(x,y,room_width/2,room_height/2)
vdir=point_direction(room_width/2,room_height/2,x,y)
view_xview[0]=x+lengthdir_x(vdist*0.2,vdir-180)-view_wview[0]*0.5
view_yview[0]=y+lengthdir_y(vdist*0.2,vdir-180)-view_hview[0]*0.5
view_angle[0]=lengthdir_y(vdist*(1/160),vdir*2)
} else {*/
view_xview[0]=xview
view_yview[0]=yview
with objEffector {
vlastx=view_xview[0]
vlasty=view_yview[0]
}
//}
alarm[0]=36

}
else {
vdist=point_distance(x,y,room_width/2,room_height/2)
vdir=point_direction(room_width/2,room_height/2,x,y)
view_xview[0]=x+lengthdir_x(vdist*0.2,vdir-180)-view_wview[0]*0.5
view_yview[0]=y+lengthdir_y(vdist*0.2,vdir-180)-view_hview[0]*0.5
view_angle[0]=lengthdir_y(vdist*(1/160),vdir*2)
with objEffector {
vlastx=view_xview[0]
vlasty=view_yview[0]
}
/*
viewx=objPlayer.x+(display_mouse_get_x()-display_get_width()*0.5)*(view_wview[0]/display_get_width())-view_wview[0]/2
viewy=objPlayer.y+(display_mouse_get_y()-display_get_height()*0.5)*(view_hview[0]/display_get_height())-view_hview[0]/2
view_xview[0]=viewx
view_yview[0]=viewy*/
}

scrSaveFloor()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if persistent=1 exit
if myspeed=2.25 legsprite=sprNicoleLegsStairs else legsprite=sprNicoleLegs
draw_set_blend_mode(bm_add)
draw_circle_color(x,y,48+random(6)+light,make_color_hsv(0,0,30+light*2),c_black,0)
draw_set_blend_mode(bm_normal)
draw_sprite_ext(legsprite,legindex,x+1,y+1,image_xscale,image_yscale,legdir,c_black,0.5)
draw_sprite_ext(sprite_index,image_index,x+1,y+1,image_xscale,image_yscale*left,dir,c_black,0.5)
draw_sprite_ext(legsprite,legindex,x,y,image_xscale,image_yscale,legdir,image_blend,image_alpha)
if global.xbox=1 dir=scrXboxPlayerLook() else dir=point_direction(x,y,global.mousex,global.mousey)
draw_sprite_ext(sprite_index,image_index,x,y,image_xscale,image_yscale*left,dir,image_blend,image_alpha)
if reload&gt;0 reload-=1
if light&gt;3 light-=3
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="67">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>exit
if keyboard_check(vk_shift) {
with objEnemy instance_destroy()
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 exit
scrMCKill()</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="17">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>aim=!aim</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="16">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_perform(ev_keypress,vk_control)</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>

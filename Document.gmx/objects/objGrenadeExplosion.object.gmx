<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprExplosionTop</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Properties.
objEffector.brus = 10
image_xscale = 2.5 + random(1)
image_yscale = image_xscale
image_speed = 0
image_angle = random(360)

if scrMovingPlayerExists() {
    if point_distance(x, y, objPlayer.x, objPlayer.y) &lt; 120 global.blur = 90
    else global.blur = 60
}

shock = instance_create(x, y, objPulseRipple)
shock.image_xscale = 1 
shock.image_yscale = shock.image_xscale 

smoke = instance_create(x, y, objSmokePuffExplosion)

alarm[0] = 600
fade = 0
alpha = 1
amount=0
index = 2
subindex = 2
wait = 300
dir=random(1000)
scrHearExplosion(x, y)
sound_ps(choose(sndGrenadeExplosion1, sndGrenadeExplosion2, sndGrenadeExplosion3, sndGrenadeExplosion4))
global.shake = 24

// Create blast impact.
my_id = instance_create(x, y, objExplosionGround) 

// Create debris.
repeat (64 + random(64)) {
    my_id = instance_create(x + lengthdir_x(14, direction), y + lengthdir_y(14, direction), objDebris)
    my_id.direction = random(360)
    my_id.speed = 2 + random(4)
}

// Create shards. 
repeat (64 + random(64)) {
    my_id = instance_create(x + lengthdir_x(14, direction), y + lengthdir_y(14, direction), objTinyShard)
    my_id.direction = random(360)
    my_id.speed = 3 + random(3)
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Particles for explosion.
part_type_shape(global.smoke, pt_shape_smoke)
part_type_size(global.smoke, 0.1, 1, 0, 0)
part_type_life(global.smoke, 30, 60)
part_type_color_mix(global.smoke, c_gray, c_dkgray)
part_type_alpha2(global.smoke, 0.2, 0)
part_type_direction(global.smoke, 0, 360, 0, 0)
part_type_speed(global.smoke, 4, 10, 0, 0)
part_particles_create(global.explosion, x, y, global.smoke, 200 + random(200))

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Trigger fade.
fade = 1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Fade out the sprite.
if fade = 1 {
    if alpha &gt; 0 alpha -= 0.05 
    if alpha = 0 instance_destroy()
}
if !scrMovingPlayerExists() exit

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Collision with destructible objects.
if index = 8 {
    if place_meeting(x, y, objDeadBody) {
        var body = instance_place(x, y, objDeadBody);
        with body scrEnemyDieExplode()
    }
    
    if place_meeting(x, y, objKnockedOut) {
        var body = instance_place(x, y, objKnockedOut);
        with body scrEnemyDieExplode()
    }  
    
    if place_meeting(x, y, objEnemy) {
        var body = instance_place(x, y, objEnemy);
        with body scrEnemyDieExplode()
    }    
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objGlassPanelV">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if index = 8 {
    i = 0
    repeat(16) {
        my_id = instance_create(other.x + 3, other.y + i * 2, objShard)
        if other.x &lt; x my_id.direction = point_direction(other.x + 8, other.y + 16, my_id.x, my_id.y)
        else my_id.direction = point_direction(other.x - 8, other.y + 16, my_id.x, my_id.y)
        my_id.speed = random(4)
        my_id = instance_create(other.x, other.y + i * 2, objDebris)
        if other.x &lt; x my_id.direction = point_direction(other.x + 8, other.y + 16, my_id.x, my_id.y)
        else my_id.direction = point_direction(other.x - 8, other.y + 16, my_id.x, my_id.y)
        my_id.speed = random(4)
        i += 1

    }
    sound_ps(choose(sndGlass1, sndGlass2))
    instance_create(other.x, other.y, objGlassPanelVBroken)
    with other instance_destroy()
    if global.shake &lt; 8 global.shake = 8
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objGlassPanelH">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Destroy panel.
if index = 8 {
    with other {
        i = 0
        repeat(16) {
            my_id = instance_create(x + i * 2, y + 4, objShard)
            my_id.direction = point_direction(x + 16, y - 8, my_id.x, my_id.y)
            my_id.speed = random(4)
            my_id = instance_create(x + i * 2, y + 4, objDebris)
            my_id.direction = point_direction(x + 16, y - 8, my_id.x, my_id.y)
            my_id.speed = random(4)
            i += 1
        }
        sound_ps(choose(sndGlass1, sndGlass2))
    }
    instance_create(other.x, other.y, objGlassPanelHBroken)
    with other instance_destroy()
    if global.shake &lt; 8 global.shake = 8
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objConcreteBlock">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Depreciate life.
if index = 8 {
    if other.life &gt; 0 {
        if point_distance(x, y, other.x, other.y) &lt; 16 other.life -= 10
        
        else if point_distance(x, y, other.x, other.y) &lt; 32
        and point_distance(x, y, other.x, other.y) &gt; 16 other.life -= 8
        
        else if point_distance(x, y, other.x, other.y) &lt; 48
        and point_distance(x, y, other.x, other.y) &gt; 32 other.life -= 6
        
        else if point_distance(x, y, other.x, other.y) &lt; 64
        and point_distance(x, y, other.x, other.y) &gt; 48 other.life -= 2
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objDoorV">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Destroy door.
if index = 8 {
    with other {
        i = 0
        repeat(16) {
            my_id = instance_create(x, y + i * 2, objDebrisLarge)
            if my_id.x &lt; objGrenadeExplosion.x my_id.speed = random(4) else my_id.speed = random(4)
            i += 1
        }
        
        if image_angle != 0 image_angle = 0
        my_id = instance_create(x, y, objDestroyedDoor)
        my_id.speed = 2 + random(1)
        my_id.image_angle = 90 + random_range(-20, 20)
        instance_destroy()
        sound_ps(sndBreakDoor)
        global.shake=16    
    }
}

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objDoorH">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if index = 8 {
    with other {
        i = 0
        repeat(16) {
            my_id = instance_create(x + i * 2, y, objDebrisLarge)
            if y &lt; objGrenadeExplosion.y my_id.speed = random(4) else my_id.vspeed = random(4)
            i += 1
        }
    
        sound_ps(sndBreakDoor)
        global.shake=16
        
        if image_angle != 0 image_angle = 0
        my_id = instance_create(x, y, objDestroyedDoor)
        my_id.direction = point_direction(x,y,other.x+16,other.y)//90
        my_id.speed = 2
        my_id.image_angle = random_range(-20, 20)
        instance_destroy()
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objPlayer">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if index = 8 { 

    if pierretteHasShield(objPlayer.sprite_index) global.blur = 90 else {
        global.shake = 10
        
        // Create the player's dead body.
        my_id = instance_create(x, y, objPlayerDead)
        
        // Create blood.
        repeat(10) {
            my_id = instance_create(x + 16 - random(32), y + 16 - random(32), choose(objFleshChunk, objFleshChunkLarge))
            my_id.direction = point_direction(x, y, my_id.x, my_id.y)
            my_id.speed = 2 + random(3)
            my_id.friction = 0.15
        }
        
        repeat(20) {
            my_id = instance_create(x + 16 - random(32), y + 16 - random(32), choose(objBrains, objIntestine))
            my_id.direction = point_direction(x, y, my_id.x, my_id.y)
            my_id.speed = 2 + random(4)
            my_id.friction = 0.15
        }
        scrExtremeGore(x, y)
        scrExtremeGore(x, y)
        
        // Destroy the player object.
        with other instance_destroy()
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objMine">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Destroy mine.
if index = 8 {
    with other {
        // Create explosion.
        instance_create(x, y, objGrenadeExplosion)
        instance_destroy()
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objWall">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Create impact if the wall hasn't been destroyed.
if index &lt; 10 {
    with other {
        if life &gt; 0 life -= 2
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Destroy the explosion.
instance_destroy()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw explosion.
dir += 2
/*
draw_set_blend_mode(bm_subtract)
draw_sprite_ext(sprExplosionBottom,34,x,y,0.5,0.5,image_angle,merge_color(c_black,c_gray,0.6+lengthdir_x(0.5,dir)),image_alpha)
draw_sprite_ext(sprExplosionBottom,33,x,y,0.5,0.5,image_angle,merge_color(c_black,c_gray,0.6+lengthdir_x(0.5,dir+120)),image_alpha)
draw_sprite_ext(sprExplosionBottom,32,x,y,0.5,0.5,image_angle,merge_color(c_black,c_gray,0.6+lengthdir_x(0.5,dir+240)),image_alpha)
draw_set_blend_mode(bm_normal)

draw_set_blend_mode(bm_subtract)
draw_sprite_ext(sprExplosionMid,20,x,y,0.5,0.5,image_angle,merge_color(c_black,c_gray,0.6+lengthdir_x(0.5,dir)),image_alpha)
draw_sprite_ext(sprExplosionMid,18,x,y,0.5,0.5,image_angle,merge_color(c_black,c_gray,0.6+lengthdir_x(0.5,dir+120)),image_alpha)
draw_sprite_ext(sprExplosionMid,16,x,y,0.5,0.5,image_angle,merge_color(c_black,c_gray,0.6+lengthdir_x(0.5,dir+240)),image_alpha)
draw_set_blend_mode(bm_normal)
*/
if subindex &lt; 37 {    
    draw_set_blend_mode(bm_subtract)
    if subindex &lt; 37 draw_sprite_ext(sprExplosionBottom, subindex, x, y, 0.5, 0.5, image_angle, merge_color(c_dkgray,c_ltgray,0.3+lengthdir_x(0.5,dir+120)), alpha)
    draw_set_blend_mode(bm_normal)
    subindex += 0.5
}

if subindex &lt; 21 {
    draw_set_blend_mode(bm_normal)
    if subindex &lt; 21 draw_sprite_ext(sprExplosionMid, subindex, x, y, 0.5, 0.5, image_angle, image_blend, alpha)
    subindex += 0.5
}

if index &lt; 28 {
    draw_set_blend_mode(bm_subtract)
    if index &lt; 28 draw_sprite_ext(sprite_index, index, x, y, 1.4, 1.4, image_angle, image_blend, alpha)
    draw_set_blend_mode(bm_normal)
    index += 0.5
}


</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>

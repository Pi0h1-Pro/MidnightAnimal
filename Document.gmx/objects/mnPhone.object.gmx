<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprPhoneFrame</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-100000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Initialise variables.

// Disable player movement.
global.active = 0

// Default image scale.
image_xscale = 0.25
image_yscale = image_xscale

// Default image angle (off the screen).
image_angle = -100

// Default x and y coordinates.
x = 0
y = view_hview[0]

// Controls whether the phone is active or not (off by default).
active = 0

// Controls degree of fade (0 by default).
fade_alpha = 0

// Current index (none selected by default).
image_index = 0
image_speed = 0

// Select index.
select = 0

// Set delay for fade-in of elements.
delay = 0
fade = 0

// Display text.
display = 0

// Animation rate for send mail icon.
mail_animation = 0

// Animation rate for weather.
weather_animation = 0

// Animation rate for social media.
social_animation = 0

// Save data.
save_data()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set options.
option[0]="Resume"
option[1]="Restart"
option[2]="Exit"
select=0
wait=20
startx=x
x+=4

text = "";
alarm[0] = 1;
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set up analogue clock.
//As seen on SlasherXGAMES
//http://www.youtube.com/user/SlasherXGAMES

/*
algorithms to determine angles for clock hands related to times of day
HOUR HAND
where:
current_hour = hour at this moment in time
(current_minute/60) = the extra fraction angle of minute divided by 60 (total number of minutes in an hour)
30 = the number of degrees of the clock face each hour represents
*/
hourAngle = -((current_hour + (current_minute/60)) * 30);

/*HOUR &amp; SECOND HAND
where:
current_minute and current_second = minute and second respectively at this moment in time
6 = the number of degrees of the clock face each minute andd second represents
*/
minuteAngle = -(current_minute * 6);
secondAngle = -(current_second * 6);
/*
change current_hour, current_minute, and current_second to custom values in you don't want to show system time
e.g.
if using hour, minute and second variables for time values
then
hourAngle = -((hour + (minute/60)) * 30);
minuteAngle = -(minute * 6);
secondAngle = -(second * 6);
/*
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Update clock.
//store the current time
t = date_current_datetime();

//get the hour portion of that time
h = date_get_hour(t);

//get the minute portion of the time.
m = date_get_minute(t);

//get the second potion of the time
s = date_get_second(t);

//show the time
text = string(h) + ":" + string(m) + ":" + string(s);

alarm[0] = room_speed;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Fade tint, and rotate phone when active.

if active {
    if image_angle &lt; 0 image_angle += 20
    if fade_alpha &lt; 1 fade_alpha += 0.1
    if delay &lt; 10 delay += 1 else delay = 10
    if delay &gt;= 10 {
        if fade &lt; 1 fade += 0.1
    } 
} else {
    if fade &gt; 0 fade -= 0.1
    if fade &lt;= 0 {
        if image_angle &gt; -100 image_angle -= 20
        if fade_alpha &gt; 0 fade_alpha -= 0.1 else instance_destroy()
        delay = 0
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Update angles for clock hands. 
//As seen on SlasherXGAMES
//http://www.youtube.com/user/SlasherXGAMES

/*
change current_hour, current_minute, and current_second to custom values in you don't want to show system time
e.g.
if using hour, minute and second variables for time values
then
hourAngle = -((hour + (minute/60)) * 30);
minuteAngle = -(minute * 6);
secondAngle = -(second * 6);
*/
hourAngle = -((current_hour + (current_minute/60)) * 30);
minuteAngle = -(current_minute * 6);
secondAngle = -(current_second * 6);

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="61">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move down in options.
if select &lt; 2 select += 1 else select = 0
with objPlayer {
    if image_index &gt; 0 image_index -= 0.15 else image_index = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="60">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move up in options.
if select &gt; 0 select -= 1 else select = 2
with objPlayer {
    if image_index &lt; 4 image_index += 0.15 else image_index = 4
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select options. 

// Resume the game.
if select = 0 {
    global.screeneffect = 6
    sound_ps(sndPause)
    active = !active
    global.active = 1
}

// Restart the level.
if select = 1 {
    //audio_stop_sound(mscInbou)
    if instance_exists(objSnow) with objSnow instance_destroy()
    i = 0
    repeat(1000) {
        if surface_exists(i) surface_free(i)
        i += 1
    }
    game_restart()
}

// Return to main menu.
if select = 2 {
    game_end()
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw phone, and fade.
texture_set_interpolation(true)
draw_sprite_ext(sprInterfaceFade, image_index, 0, 0, 1, 1, 0, image_blend, fade_alpha)
draw_self()

// Draw text for options.
draw_set_halign(fa_left)
draw_set_font(fntPauseMenu)
draw_set_alpha(fade)

draw_set_color(c_white)
//draw_text_transformed(128, 89, text, 0.2, 0.2, -8)

i = 0
repeat(3) {

    // If selected...
    if i = select {

        // ...reset the font colour to grey.
        draw_set_color(c_dkgray)

        // Otherwise, the font colour is white by default.
    } else draw_set_color(c_white)

    // Draw the text options.
    draw_text_transformed(77 - i*1.68, 168 + i * 16, option[i], 0.2, 0.2, -8)
    i += 1
}

// Draw clock hands.
//As seen on SlasherXGAMES
//http://www.youtube.com/user/SlasherXGAMES
draw_sprite_ext(spr_hourhand, 0, 112, 124, 0.2, 0.2, hourAngle + 6, c_white, fade)
draw_sprite_ext(spr_minutehand, 0, 112, 124, 0.2, 0.2, minuteAngle  + 6, c_white, fade)
draw_sprite_ext(spr_secondhand, 0, 112, 124, 0.2, 0.2, secondAngle + 6, c_white, fade)

draw_reset()
texture_set_interpolation(false)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="87">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move up in options.
if select &gt; 0 select -= 1 else select = 2
with objPlayer {
    if image_index &lt; 4 image_index += 0.15 else image_index = 4
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="83">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move down in options.
if select &lt; 2 select += 1 else select = 0
with objPlayer {
    if image_index &gt; 0 image_index -= 0.15 else image_index = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>

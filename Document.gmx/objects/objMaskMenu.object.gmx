<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprMasksBig</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>instance_destroy(); exit;
if room = rmPhoneHomEntrance scrPlaySong(working_directory + "\Bridal.mp3")
global.barehanded = 1
current = 0
dir = 0
addx = -700
alpha = 1
scale = 1

surf=surface_create(view_wview[0],view_hview[0])

view_xview[0] = objPlayerCar.x - view_wview[0] / 2
if objPlayerCar.image_angle = 180
view_hview[0] = objPlayerCar.y + view_hview[0] * 0.8
else view_yview[0] = objPlayerCar.y - view_hview[0] * 0.8

//Draw lines.
i = 0
repeat(8) {
    line[i] = 0
    i += 1
}
on = 1

masks = sprite_get_number(sprite_index)
maskx = 0
masky = room_height + 40
dir = 0
wait = 0
maskspeed = 8
name[0] = "John"
name[1] = "Rasmus"
name[2] = "Tony"
name[3] = "Aubrey"
name[4] = "Alison"
name[5] = "Graham"
name[6] = "Nicole"
name[7] = "George"
name[8] = "Parker"
name[9] = "Alexandra"
name[10] = "Rami"
name[11] = "Willem"
name[12] = "Peter"
name[13] = "Zack"
name[14] = "Oscar"
name[15] = "Frank"
name[16] = "Connor"
name[17] = "Charlie"
name[18] = "Louie"
name[19] = "Max"
name[20] = "Nigel"
name[21] = "Earl"
name[22] = "Jones"
name[23] = "Carl"
name[24] = "Jake"
name[25] = "Richter"
description[0] = "Every bullet eases the pain"
description[1] = "Neon nightmare"
description[2] = "Killing punches, No weapons"
description[3] = "More guns"
description[4] = "Doorkickers"
description[5] = "Walk fast"
description[6] = "A woman scorned"
description[7] = "Eagle eye"
description[8] = "Blood in your eyes"
description[9] = "Cool, hip, fun, interesting"
description[10] = "Flare gun"
description[11] = "Rip and steal"
description[12] = "Quiet gunshots"
description[13] = "Outer heaven"
description[14] = "Darkness"
description[15] = "Welcome to the jungle"
description[16] = "Kung fury"
description[17] = "More melee weapons"
description[18] = "Hard to spot"
description[19] = "The shadows rushed me"
description[20] = "Reversed controls"
description[21] = "Survive two bullets"
description[22] = "Savage feeding"
description[23] = "Start with drill"
description[24] = "Killing throws"
description[25] = "Start with silenced uzi"

blacky = 32
global.maskon = 0
current = global.maskindex
global.maskindex = 0
i = 0

//Renders unavailable mask names and descriptions "unavailable".
repeat(26) {
    if global.masks[i] = 0 {
        name[i] = "Unavailable"
        description[i] = "Unavailable"
    }
    i += 1
}

global.selectmask = 0
save = 1

global.maskload = 1
alarm[0] = 1

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//surface_free(surf)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>test=objPlayer.persistent
objPlayer.persistent=0
global.loaded=1
game_save(working_directory+"\tempsave.sav")
global.loaded=0
objPlayer.persistent=test
global.maskload=0
scrSaveFloor()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox = 1 {
    if checkbutton(0, getid(5)) {
        if presstart = 0 {
            presstart = 1
            //scrXboxMaskMenuStart()
            event_perform(ev_keypress,vk_enter)
        }
    } else presstart = 0


    if leftthumb_x(0) &gt; 5000 {
        if pressright = 0 {
            pressright = 1
            event_perform(ev_keypress,ord('D'))
        }
    } else pressright = 0

    if leftthumb_x(0) &lt; -5000 {
        if pressleft = 0 {
            pressleft = 1
            event_perform(ev_keypress,ord('A'))
        }
    } else pressleft = 0

}

surface_set_target(surf)
draw_clear_alpha(c_black, 0)

draw_set_font(fntMaskDescription)
draw_set_halign(fa_center)

//Draw Tony's "No weapons".
if current == 2 {
    //Shadow.
    draw_set_color(merge_color(c_purple, c_fuchsia, 0.5 + lengthdir_x(0.5, dir)))
    draw_text(view_wview[0] / 2 + 1, view_hview[0] * 0.87 + 1, description[current])
    
    //Text.
    draw_set_color(merge_color(c_silver, c_white, 0.5 + lengthdir_x(0.5, dir)))
    draw_text(view_wview[0] / 2, view_hview[0] * 0.87, description[current])
    
    draw_set_color(merge_color(c_maroon, c_red, 0.5 + lengthdir_x(0.5, dir * 5)))
    draw_set_halign(fa_right) draw_text(view_wview[0] / 2 + string_width(description[current]) / 2 + 1, view_hview[0] * 0.87 + 1, "No weapons")
    
    draw_set_color(merge_color(c_red, c_white, 0.5 + lengthdir_x(0.5, dir * 5)))
    draw_text(view_wview[0] / 2 + string_width(description[current]) / 2, view_hview[0] * 0.87, "No weapons")
}

//Normal mask descriptions.
else {
    //Shadow.
    draw_set_color(merge_color(c_purple, c_fuchsia, 0.5 + lengthdir_x(0.5, dir)))
    draw_text(view_wview[0] / 2 + 1, view_hview[0] * 0.87 + 1, description[current])
    
    //Text.
    draw_set_color(merge_color(c_silver, c_white, 0.5 + lengthdir_x(0.5, dir)))
    draw_text(view_wview[0] / 2, view_hview[0] * 0.87, description[current])
}

//Begin drawing mask names.
draw_set_font(fntMasks)

times = 2 + lengthdir_x(4, dir * 2.32)
if times &lt; 1 times = 1
i = 0

//Mask name.
repeat(times) {
    draw_set_color(merge_color(c_silver, c_white, times * (1 / 6)))
    draw_text(view_wview[0] / 2 - i, view_hview[0] * 0.8 - i, name[current])
    i += 1
}

//Draw mask name.

//Shadow.
draw_set_color(merge_color(c_red, c_maroon, 0.5 + lengthdir_x(0.5, dir * 2)))
draw_text(view_wview[0] / 2 - i + 1, view_hview[0] * 0.8 - i + 1, name[current])

//Text.
draw_set_color(merge_color(c_white, c_silver, 0.5 + lengthdir_x(0.5, dir * 2)))
draw_text(view_wview[0] / 2 - i, view_hview[0] * 0.8 - i, name[current])

surface_reset_target()


if wait &gt; 0 wait -= 1


</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_perform(ev_keypress,vk_enter)</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="68">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sound_play(sndNav)

if on = 0 exit

current += 1
if current &gt; 25
current = 0
exit

while global.masks[current] = 0 {
    current += 1
    if current &gt; 25
    current = 0
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="65">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>sound_play(sndNav)

if on = 0 exit
current -= 1
if current &lt; 0 current = 25 //masks-.5 
exit

while global.masks[current] = 0 {
    current -= 1
    if current &lt; 0 current = 25 //masks-.5

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.masks[current] = 0 exit
if on = 0 exit
on = 0

with objPlayer {
    reload = 30
    image_index = 0
    image_speed = 0.35
    sprite_index = sprPMaskSlip
    scrSaveFloor()
}

if current = 0 objPlayer.masksprite = sprRoosterMask
if current = 1 objPlayer.masksprite = sprOwlMask
if current = 2 objPlayer.masksprite = sprTigerMask
if current = 3 objPlayer.masksprite = sprPigMask
if current = 4 objPlayer.masksprite = sprHorseMask
if current = 5 objPlayer.masksprite = sprRabbitMask
if current = 6 objPlayer.masksprite = sprWolfMask
if current = 7 objPlayer.masksprite = sprGiraffeMask
if current = 8 objPlayer.masksprite = sprCollieMask
if current = 9 objPlayer.masksprite = sprElephantMask
if current = 10 objPlayer.masksprite = sprCamelMask
if current = 11 objPlayer.masksprite = sprMonkeyMask
if current = 12 objPlayer.masksprite = sprUnicornMask
if current = 13 objPlayer.masksprite = sprFrogMask
if current = 14 objPlayer.masksprite = sprMoleMask
if current = 15 objPlayer.masksprite = sprFoxMask
if current = 16 objPlayer.masksprite = sprPantherMask
if current = 17 objPlayer.masksprite = sprOctopusMask
if current = 18 objPlayer.masksprite = sprChamelionMask
if current = 19 objPlayer.masksprite = sprFishMask
if current = 20 objPlayer.masksprite = sprBatMask
if current = 21 objPlayer.masksprite = sprWalrusMask
if current = 22 objPlayer.masksprite = sprCrocodileMask
if current = 23 objPlayer.masksprite = sprLocustMask
if current = 24 objPlayer.masksprite = sprCobraMask
if current = 25 objPlayer.masksprite = sprRatMask
global.usedmask[current] = 1
scrSaveAchievements()
global.maskindex = current
objPlayer.maskindex = current

if file_exists(working_directory + "\mask.nfo") file_delete(working_directory + "\mask.nfo")
file = file_text_open_write(working_directory + "\mask.nfo")
file_text_write_string(file, string(current))
file_text_close(file)

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>

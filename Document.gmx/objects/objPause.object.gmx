<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Pause behaviour.
factor = 0
on = 1

screen_save_part("pause.png",0,0,display_get_width(),display_get_height());
PauseSprite=sprite_add("pause.png",0,0,0,0,0);
instance_deactivate_all(true);
audio_pause_sound(global.CurrentSong);
audio_play_sound(mscInbou,0,1);
audio_sound_gain(mscInbou,global.mvol,0);
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set options.
option[0]="RESUME"
option[1]="RESTART"
option[2]="EXIT"
select=0
wait=20
startx=x
x+=4
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Set states / coordinates.
state = 0
alarm[0] = 10
cut = 0
alpha = 0

// Set animation coordinates.
character = 640
texty = 120
optionsx = 396
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Advance state. 
if cut = 0 state += 1
alarm[0] = 20
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Fade

if on = 1 {
    if factor &lt; 0.75 factor += 0.05
}

if on = 0 {
    if factor &gt; 0 factor -= 0.05 else {
        //if sprite_exists(global.sprite) sprite_delete(global.sprite)
        //if file_exists(working_directory+"\pause.bmp") file_delete(working_directory+"\pause.bmp")
        sound_stop(sndPause)
        instance_activate_all();
        with(objPauseMenuSplatter) instance_destroy();
        with(objPauseMenuSplatterShot) instance_destroy();
        instance_destroy();
    }
}

</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Animation behaviour.
if state &gt; 2 state = 2
if state &lt; 0 state = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="61">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move down in options.
if select &lt; 2 select += 1 else select = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="60">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move up in options.
if select &gt; 0 select -= 1 else select = 2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Select options. 

// Resume the game.
if select = 0 {
    if on=0 exit
    on=0
    
    sound_ps(sndPause)
    audio_stop_sound(mscInbou)
    audio_resume_sound(global.CurrentSong)
}

// Restart the level.
if select = 1 {
    audio_stop_sound(mscInbou)
    if instance_exists(objSnow) with objSnow instance_destroy()
    i = 0
    repeat(1000) {
        if surface_exists(i) surface_free(i)
        i += 1
    }
    game_restart()
}

// Return to main menu.
if select = 2 {
    cut = !cut
    game_end()
    /*audio_stop_sound(mscInbou)
    i = 0
    repeat(1000) {
        if surface_exists(i) surface_free(i)
        i += 1
    }
    game_restart()*/
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw pause memu.
d3d_set_projection_ortho(0, 0, view_wview[0], view_hview[0], 0)

// Draw screen.
//draw_sprite(PauseSprite,0,0,0);
draw_sprite_stretched(PauseSprite,0,0,0,view_wview,view_hview);

// Draw background with tint.
draw_set_alpha(alpha)
draw_rectangle_color(0, 0, view_wview, view_hview, global.rubedo, global.rubedo, global.rubedo, global.rubedo, 0)
draw_set_alpha(1)

if cut = 0 {
    if alpha &lt; 0.74 alpha += 0.05
} else {
    if alpha &gt; 0 alpha -= 0.05
}

// Draw first character.
if state = 0 {
    instance_create(view_wview / 2, 0, objPauseMenuSplatter)
    instance_create(0, 0, objPauseMenuSplatterShot)
    with objPauseMenuSplatterShot draw_self()
}

// Draw characters.
if state = 1 {
    with objPauseMenuSplatterShot draw_self()
    with objPauseMenuSplatter draw_self()
    
    // Draw character.
    draw_sprite_ext(sprite_index, 1, character, 0, 0.74, 0.74, 0, c_white, 1)

    if cut = 0 {
        if character &gt; 0 character -= 40
    }
}

// Draw options.
if state = 2 {

    with objPauseMenuSplatterShot draw_self()
    with objPauseMenuSplatter draw_self()
    
    // Draw text for options.
    draw_set_halign(fa_left)
    draw_set_font(fntPauseMenu)

    i = 0
    repeat(3) {

        // If selected...
        if i = select {

            // ...draw a white bounding box around it...
            draw_set_color(c_white)
            draw_rectangle(optionsx, 124 + 28 + i * 16, 396, 124 + 42 + i * 16, 0)

            // ...and reset the font colour to black.
            draw_set_color(c_black)

            // Otherwise, the font colour is white by default.
        } else draw_set_color(c_white)
        
        // Draw the text options.
        draw_text_transformed(optionsx + 4, 123 + 36 + i * 16, option[i], 0.2, 0.2, 0)
        i += 1
        
        if cut = 0 {
            if character &gt; 0 character -= 20
            if optionsx &gt; 286 optionsx -= 4
        }
    }


    x = startx

    // Redraw UI.

    // 'WAIT A SECOND':
    draw_sprite_ext(sprite_index, 0, 0, texty, 0.74, 0.74, 0, c_white, 1) // 0.251, 0.24

    // Draw character.
    draw_sprite_ext(sprite_index, 1, character, 0, 0.74, 0.74, 0, c_white, 1) // 0.251 0.251

    if cut = 0 {
        if texty &gt; 0 texty -= 40
    } 
}

//draw_sprite_ext(sprHUDBars, 0, 0, -5, 0.8, 0.7, 0, c_black, 1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="87">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move up in options.
if select &gt; 0 select -= 1 else select = 2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="83">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Move down in options.
if select &lt; 2 select += 1 else select = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Resume game.
if on=0 exit
on=0

sound_ps(sndPause)
audio_stop_sound(mscInbou);
audio_resume_sound(global.CurrentSong);
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
